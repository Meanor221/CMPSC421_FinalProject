<!doctype html>

<html lang="en">

<head>

  <meta charset="utf-8">

  <title>jQuery UI Draggable - Default functionality</title>

  <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
  

  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>

  <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

  <link rel="stylesheet" href="/resources/demos/style.css">
    

  <style>
  #draggable { width: 150px; height: 150px; padding: 0.5em; }
  #draggable2 { width: 5px; height: 5px; padding: 0.5em; }
  #draggable3 { width: 150px; height: 150px; padding: 0.5em; left:10px; }
  .ui-resizable-helper { border: 1px dotted gray; }
      .imageCSS {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 100%;
}
      .opacity { background-color="transparent"}
  </style>

 <script>
     
  $(function() {
    $( ".ui-widget-content" ).draggable().resizable({
      animate: true,
    });
   $( ".ui-widget-content2" ).draggable();
  });
     
     
     
     
  </script>

    
   <script>
function createTextArea() {
    var handle = document.createElement("div");
    handle.id="draggable2";
    handle.className="ui-widget-content2";
    
    var area = document.createElement("textarea");
    
    area.id="draggable3";
    area.className="ui-widget-content";
    area.classList.add("opacity");
    
    
    handle.appendChild(area); 
    document.getElementById("slide").appendChild(handle);
    $(handle).draggable({
        containment: document.getElementById("slide")
    });
    $(area).draggable({
        containment: document.getElementById("slide")
    });
    $(area).resizable({
      animate: true,
        containment: document.getElementById("slide")
    });
    
}
</script>

<script>
    
    function createImage() {
    var div = document.createElement("div");
        div.id="draggable";
        div.className="ui-widget-content";
        div.name="testImage";
        var up=document.createElement("input");
        up.name="del";
        up.type="file";
        var url=document.createElement("button");
        var t=document.createTextNode("URL");
        url.name="del";
        url.appendChild(t);
        div.appendChild(up);
        div.appendChild(url);
        
   
  
    document.getElementById("slide").appendChild(div);
        $( div ).draggable({
        containment: document.getElementById("slide")
    }).resizable({
      animate: true,
        containment: document.getElementById("slide")
    });

    $(up).ready(function(){
        $('input[type="file"]').change(function(e){
            var fileName = e.target.files[0].name;
            //alert('The file "' + fileName +  '" has been selected.');
            
            var img = document.createElement("img");
        img.src=fileName;
            img.className="imageCSS";
        
    var node=document.getElementsByName("del");
        
        
    for (i = 0; i < node.length; i++) {    
if (node[i].parentNode) {
    var parent=node[i].parentNode;
  node[i].parentNode.removeChild(node[0]);
  node[i].parentNode.removeChild(node[0]);  
}
    }
    parent.appendChild(img);
            
        });
    });
    }
    
    </script>
    

    
   
    
    
    
    <script type="text/javascript">
    $(document).ready(function(){
        $('input[type="file"]').change(function(e){
            var fileName = e.target.files[0].name;
            alert('The file "' + fileName +  '" has been selected.');
            
            var img = document.createElement("img");
        img.src=fileName;
        
    var node=document.getElementsByName("del");
        
        
    for (i = 0; i < node.length; i++) {    
if (node[i].parentNode) {
  node[i].parentNode.removeChild(node[0]);
  node[i].parentNode.removeChild(node[0]);  
}
    }
    document.getElementsByName("testImage")[0].appendChild(img); 
            
        });
    });
</script>
    
    
    
    
</head>

<body>
    
    <button type="button"  onclick="createTextArea()">Create Text</button>
    <button type="button" onclick="createImage()">Create Image</button>
 
<div id="slide" style="height: 600px; border: 2px solid; background-color: lightblue;"></div>
</body>
</html>